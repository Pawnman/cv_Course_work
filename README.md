<h1>Курсовая работа по дисциплине Computer Vision</h1>
<p>Выполнил студент группы М8О-209М-23:</p>
<ul>
  <li>Пешков Максим Юрьевич</li>
</ul>

<h2>Задачи:</h2>
<ul>
  <li>Детекция объектов на изображении</li>
  <li>Классификация объектов на изображении</li>
  <li>Сегментация объектов на изображении</li>
  <li>Детекция объектов на видео</li>
  <li>Классификация объектов на видео</li>
  <li>Сегментация объектов на видео</li>
  <li>Пешков Максим Юрьевич</li>
</ul>

<h2>Объекты:</h2>
<ul>
  <li>Самолеты (airplanes)</li>
  <li>Водный транспорт (boat)</li>
</ul>


<h2>Сервис:</h2>
<ul>
  <li>Архитектура нейронной сети: YOLO8</li>
  <li>Данные: COCO Dataset</li>
  <li>Для сохранения результатов используется локальное хранилище</li>
  <li>Для реализации API используется фреймворк FastAPI</li>
  <li>Развертывание сервиса в Docker</li>
</ul>




<p>При достижении финиша Шрек проходит уровень лабиринта и выигрывает, а при получении урона (весомых аргументов против утверждений Шрека) от непрошенного гостя – теряет здоровье и проигрывает.</p>


<h2>Функционал сервиса:</h2>
<p>С помощью API пользователь загружает изображение/видео для детекции/классификации/сегментации/трекинга. Сервис производит обработку материала и создает файл (изображение/видео) результата на локальном хранилище, присваивая ему индивидуальный id. По сформированному id пользователь может скачать необходимое изображение или видео с результатом работы (классификация/детекция/сегментирование/трекинг).</p>
<href>https://scratch.mit.edu/projects/933567218</href>

<h2>Запуск сервиса:</h2>

<ul>
  <li>Необходимо в терминале ввести: docker compose up --build -d</li>
  <li>Зайти в браузере на http://127.0.0.1:8000/docs#/default/upload_image_upload_image_detection_post</li>
  <li>После попадания в Swagger можно пользоваться API</li>
</ul>

<h2>Описание API:</h2>
<ul>
  <li>[POST] /upload_image_detection - загрузка изображения для классификации и детекции - в качестве результата возвращается id </li>
  <li>[POST] /upload_image_segmentation - загрузка изображения для сегментации - в качестве результата возвращается id </li>
  <li>[POST] /upload_video - загрузка видео для трекинга - в качестве результата возвращается id </li>
  <li>[GET] /status/{task_id} - запрос на получение статуса по завершению операции по id - в качестве результата возвращается json со статусом:
    <ul>
      <li>"done" - Обработка выполнена успешно</li>
      <li>"error" - Во время обработки возникла ошибка</li>
    </ul>
  <li>[GET] /result/{task_id} - запрос на получение результата операции по id - в качестве результата возвращается json со статусом:
    <ul>
      <li>"Task not found" - Результат не найден (операция не совершалась)</li>
      <li>"Result not ready" - Результат еще не готов (дфнные находятся в обработке)</li>
      <li>"Result file not found" - Результат отсутствует</li>
    </ul>
  <li>[GET] /download/{task_id} - запрос на скачивание результата (изображение/видео) по id - в качестве результата возвращается ссылка Download </li>
</ul>

<p></p>
<figure>
   <img src="./Pictures/Pic_1.png" width="800"/>
   <figcaption>Рисунок 1 - UI оригинала Scratch-проекта</figcaption>
  </figure>

<p></p>

<p></p>
<figure>
   <img src="./Pictures/Pic_2.png" width="800"/>
   <figcaption>Рисунок 2 - Дизайн уровней Scratch-проекта</figcaption>
  </figure>

<p></p>
 



<p>Однако текущая реализация проекта предусматривает 3D визуализацию:</p>
<ul>
  <li>3D модели игрока, врагов, старта и финиша, бонусов, а также уровня лабиринта.</li>
  <li>Камера статична и смотрит на уровень сверху под углом.</li>
  <li>Для того, чтобы все места нахождения врагов и бонусов были видны, ограничительные стены лабиринта будут визуально ниже роста героя и врагов.</li> 
</ul>

<p></p>
<figure>
   <img src="./Pictures/Pic_3.png" width="800"/>
   <figcaption>Рисунок 3 - Пример расположения камеры</figcaption>
  </figure>

<p></p>
  
<p>UI относительно минималистичный, по аналогии с оригиналом, но с наличием кнопок.</p>
<p>Визуальный стиль уровней соответствует стилистике мультипликационного мультфильма: природный ландшафт, узнаваемая модель игрока и соответствующие по стилистике модели врагов, старта и финиша. Стены лабиринта визуально представляют из себя растительность (кусты).</p>

<p></p>
<figure>
   <img src="./Pictures/Pic_4.png" width="800"/>
   <figcaption>Рисунок 4 - 3D модели игрока, старта и финиша, врагов и бонусов</figcaption>
  </figure>

<p></p>

<h2>Жизненный цикл:</h2>
<ol>
  <li>Запуск/начало игры по нажатию на кнопку «START» в стартовом меню.</li>
  <li>Экран с сюжетом/предысторией, описанием управления и кнопкой с переходом к уровню с лабиринтом.</li>
  <li>Прохождение лабиринта от точки «СТАРТ» до точки «ФИНИШ», избегание вражеских существ, «пугание» вражеских существ, сбор бонусов в виде табличек.
</li>
  <li>Игрок проигрывает (кончаются жизни) при прикосновении к вражескому существу, включается экран с проигрышем и предложением начать игру заново, нажав на кнопку «RESTART». Происходит переход на пункт 1.
</li>
  <li>Игрок выигрывает при успешном достижении точки «ФИНИШ». Включается экран «Ты выиграл», на котором показываются заработанные очки, а также предлагается еще раз пройти игру заново по нажатию на кнопку «RESTART». Происходит переход на пункт 1.
</li>
</ol>


  <li>Динамичный враг перемещается не по заданному пути, а между определенными точками в случайном порядке, самостоятельно выбирая кратчайший путь.
</li>
  <li>При нахождении игрока на близком расстоянии динамический враг начинает его преследовать, отклоняясь от своего маршрута.
</li>
  <li>При нахождении игрока на очень близком расстоянии от динамического врага враг начинает его атаковать.
</li>
  <li>Начисление очков за «испуг» вражеского существа.
</li>
    </ul>
